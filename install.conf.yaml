- defaults:
    link:
        create: true
        relink: true

- shell:
  - [curl https://raw.githubusercontent.com/junegunn/fzf-git.sh/main/fzf-git.sh > .fzf-git.sh]
  - command: if [ -f ~/Library/Preferences/com.googlecode.iterm2.plist ]; then rm ~/Library/Preferences/com.googlecode.iterm2.plist; fi

- clean:
    ~/:
    ~/.config/:
        recursive: true
    ~/Library/Application Support/Code/User/:

- link:
    ~/.aliases.zsh: .aliases.zsh
    ~/.Brewfile: .Brewfile
    ~/.fzf.zsh: .fzf.zsh
    ~/.fzf-git.sh: .fzf-git.sh
    ~/.gitattributes: .gitattributes
    ~/.gitconfig: .gitconfig
    ~/.gitignore_global: .gitignore_global
    ~/.stCommitMsg: .stCommitMsg
    ~/.zshenv: .zshenv
    ~/.zshrc: .zshrc
    ~/.config/iterm2/com.googlecode.iterm2.plist: iterm2/preferences/com.googlecode.iterm2.plist
    ~/Library/Application Support/Code/User/keybindings.json: vscode/keybindings.json
    ~/Library/Application Support/Code/User/settings.json: vscode/settings.json

- create:
    - ~/code

- shell:
  - command: ./script/setup_homebrew_and_shell.zsh
    stdout: true
    stderr: true
